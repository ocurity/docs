"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[822],{7495:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var i=t(4848),s=t(8453);const o={title:"Quickstart",description:"From Zero to Pipeline in Under 7 Minutes",sidebar_position:1},r=void 0,a={id:"quickstart",title:"Quickstart",description:"From Zero to Pipeline in Under 7 Minutes",source:"@site/docs/quickstart.md",sourceDirName:".",slug:"/quickstart",permalink:"/docs/quickstart",draft:!1,unlisted:!1,editUrl:"https://github.com/ocurity/docs/tree/main/packages/create-docusaurus/templates/shared/docs/quickstart.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Quickstart",description:"From Zero to Pipeline in Under 7 Minutes",sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Development",permalink:"/docs/development"}},l={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"1. Setting up a KinD cluster",id:"1-setting-up-a-kind-cluster",level:3},{value:"2. Deploying Dracon Dependencies",id:"2-deploying-dracon-dependencies",level:3},{value:"3. Deploy Dracon Components",id:"3-deploy-dracon-components",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["This guide will help to quickly setup Dracon on a Kubernetes cluster and get a\npipeline running. The first step is to create a dev Kubernetes cluster in order\nto deploy Tekton. We suggest you use KiND to provision a local test cluster\nquickly. If you already have a K8s cluster then you can skip directly to the\n",(0,i.jsx)(n.a,{href:"#2-deploying-dracon-dependencies",children:"Deploying Dracon dependencies"})," section."]}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.p,{children:"You will need to have the following tools installed in your system:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://kind.sigs.k8s.io/docs/user/quick-start/#installation",children:"KiND"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://kubectl.docs.kubernetes.io/installation/kustomize/",children:"kustomize"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.docker.com/engine/install/",children:"Docker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:"Helm"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.h3,{id:"1-setting-up-a-kind-cluster",children:["1. Setting up a ",(0,i.jsx)(n.a,{href:"https://kind.sigs.k8s.io/",children:"KinD"})," cluster"]}),"\n",(0,i.jsx)(n.p,{children:"KinD is is a tool for running local Kubernetes clusters using Docker container\n\u201cnodes\u201d. You can create a cluster with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./scripts/kind-with-registry.sh\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-deploying-dracon-dependencies",children:"2. Deploying Dracon Dependencies"}),"\n",(0,i.jsx)(n.p,{children:"Next, you will need to deploy a bunch of dependencies that Dracon can't work without. You can do this by running the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make dev-deploy DRACON_VERSION=v0.15.0\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will deploy various components to your cluster, such as the Elastic Operator and the Dracon Helm package. Depending on the capabilities of your workstation this will probably\ntake a couple of minutes. It's perfect time to go get a cup of coffee! \ud83d\ude09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"   )  (\n  (   ) )\n   ) ( (\n  -------\n.-\\     /\n'- \\   /\n  _______\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-deploy-dracon-components",children:"3. Deploy Dracon Components"}),"\n",(0,i.jsx)(n.p,{children:"Next, we need to install some components. Our components can be easily installed\nas follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm upgrade \\\n  --install \\\n  --namespace dracon \\\n  --version 0.15.0 \\\n  dracon-oss-components \\\n  oci://ghcr.io/ocurity/dracon/charts/dracon-oss-components\n"})}),"\n",(0,i.jsx)(n.p,{children:"And that's it! Dracon is now up and running on your cluster and you can start using it."}),"\n",(0,i.jsx)(n.h1,{id:"running-a-pipeline",children:"Running a Pipeline"}),"\n",(0,i.jsx)(n.p,{children:"That's what we're actually here for. Let's run a pipeline. We can do this by\nusing one of the example pipelines included in the repository."}),"\n",(0,i.jsx)(n.p,{children:"Let's choose the Go pipeline as an example. You can deploy the pipeline as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make cmd/draconctl/bin\nbin/cmd/draconctl pipelines deploy ./examples/pipelines/python-project\n"})}),"\n",(0,i.jsx)(n.p,{children:"This deploys the pipeline to Dracon. You can see that the pipeline was created\nby taking a look at the Tekton dashboard. You can access the dashboard by running:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl -n tekton-pipelines port-forward svc/tekton-dashboard 9097:9097\n# Then open your browser at http://localhost:9097\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You should see the pipeline in the dashboard:\n",(0,i.jsx)(n.img,{alt:"Screenshot of the Tekton Dashboard showing the Dracon Go Pipeline",src:t(4812).A+"",width:"1611",height:"675"})]}),"\n",(0,i.jsx)(n.p,{children:"Then you can run an instance of the pipeline as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl create \\\n  -n dracon \\\n  -f ./examples/pipelines/python-project/pipelinerun.yaml\n"})}),"\n",(0,i.jsxs)(n.p,{children:["And that's it! You've just run your first pipeline with Dracon. \ud83c\udf89\nTo see the pipeline running, head to ",(0,i.jsx)(n.code,{children:"PipelineRuns"})," in the Tekton dashboard."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},4812:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/quickstart-pipeline-95e96a5f614d7d062387bd5d2f7e5c83.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(6540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);